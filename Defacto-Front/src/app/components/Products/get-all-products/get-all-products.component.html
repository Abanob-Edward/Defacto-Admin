<!-- <div class="container">
  <div class="row">
     <div class="col-md-4">
       <div class="form-group">
         <label for="categorySelect">
           <h3>Select Category :</h3>
         </label>
         <select id="categorySelect" class="form-select-lg" [(ngModel)]="selectedCategoryId" (change)="selectedCategoryId !== null ? filterByCategory(selectedCategoryId) : filterByCategory(0)">
          <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
          <option value="0">All</option>
         </select>
       </div>
     </div>
  </div>
  <div class="row">
     <div class="col-md-12">
       <table class="table table-striped">
         <thead>
           <tr>
             <th>Image</th>
             <th>Title</th>
             <th>Description</th>
             <th>Actions</th>
           </tr>
         </thead>
         <tbody>
           <tr *ngFor="let product of products">
             <td><img  class="img-thumbnail" src="data:image/jpg;base64, string" [src]="product.image" alt="Product Image"></td>
             <td>{{product.title}}</td>
             <td>{{product.description}}</td>
             <td>
               <button class="btn btn-primary" [routerLink]="['/UpdateProduct', product.id]" [state]="{ product: product }">Update</button>
               <button class="btn btn-danger" (click)="hardDelete(product.id)">Delete</button>
               <button class="btn btn-dark m-2" [routerLink]="['/ProductInItem', product.id]" [state]="{ product: product }">Item</button>
             </td>
           </tr>
         </tbody>
       </table>
     </div>
  </div>
 </div> -->


<div class="container p-3">
  <div class="row">
    <div class="col-md-3">
      <div class="card">
        <div class="card-header">
          <h5 class="m-2">Select Category :</h5>
          <select id="categorySelect" class="form-select form-select-lg" [(ngModel)]="selectedCategoryId"
            (change)="selectedCategoryId !== null ? filterByCategory(selectedCategoryId) : filterByCategory(0)">
            <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
            <option value="0">All</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="card mt-1">
        <div class="card-header">
          <h5>Products</h5>
        </div>
        <div class="card-body">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Image</th>
                <th>Title</th>
                <th>Status</th>
                <th>Description</th>
                <th>Category</th>
                <th>Vendor</th>
                <th>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Actions
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let product of products">
                <td>
                  <img class="img-thumbnail" [src]="'data:image/png;base64,' + product.imagesArr[0]" alt="Product Image"
                    height="100px" width="100px">
                </td>
                <td>{{product.title}}</td>
                <td>{{product.isApproved ? 'Approved' : 'Not Approved'}}</td>
                <td>{{product.description}}</td>
                <td>{{product.categoryName}}</td>
                <td>{{product.vendorName}}</td>
                <td>
                  <div class="d-flex justify-content-around">
                    <button class="btn btn-primary me-2" [routerLink]="['/UpdateProduct', product.id]"
                      [state]="{ product: product }">Update</button>
                    <button class="btn btn-danger me-2" (click)="Delete(product.id)">Delete</button>
                    <button class="btn btn-dark" [routerLink]="['/ProductInItem', product.id]"
                      [state]="{ product: product }">Item</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="d-flex justify-content-center">
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-center mt-2">
            <li class="page-item">
              <button class="page-link" (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
            </li>
            <li class="page-item" *ngFor="let pageNumber of getPageNumbers()">
              <button class="page-link" [ngClass]="{'selected-page': currentPage === pageNumber}"
                (click)="goToPage(pageNumber)">{{ pageNumber }}</button>
            </li>
            <li class="page-item">
              <button class="page-link" (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
            </li>
          </ul>
        </nav>
      </div>
      <button class="btn btn-secondary mb-3 mt-1" (click)="goBack()">Back</button>
    </div>
  </div>
</div>